<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Academic Wheel of Privilege - Interactive Visualisation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="styles.css" rel="stylesheet" />
    <script src="config.js"></script>
    <script src="data.js"></script>
</head>
<body>
    <div id="container"></div>

    <div id="header">
        <h1>Academic Wheel of Privilege</h1>
        <p>An interactive visualisation exploring 20 identity types across 7 categories, showing how privilege intersects in academia.</p>
    </div>

    <div class="category-filter" id="category-filter"></div>

    <!-- Burger menu for mobile -->
    <button class="burger-menu" id="burger-menu" aria-label="Help and information">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
            <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
    </button>

    <!-- Mobile info panel (shown via burger menu) -->
    <div id="mobile-info-panel">
        <div class="grab-bar" id="mobile-panel-grab-bar"></div>
        <h2>How to Use</h2>
        <div class="default-section">
            <p><strong>Tap</strong> a bubble for details.<br>
            <strong>Drag</strong> bubbles between rings to set your position.<br>
            <strong>Pinch</strong> to zoom, <strong>swipe</strong> to rotate.</p>
        </div>
        <div class="default-section">
            <h3>The Rings</h3>
            <p><strong>Inner (3 pts)</strong> — Most privileged<br>
            <strong>Middle (2 pts)</strong> — Intermediate<br>
            <strong>Outer (1 pt)</strong> — Least privileged</p>
        </div>
        <div class="default-section">
            <p>Based on the <em>Academic Wheel of Privilege</em> by Elsherif et al. (2022).</p>
            <p><a href="https://forrt.org/awop/" target="_blank">FORRT project page</a> · <a href="https://www.youtube.com/watch?v=mzEdTyA06cU" target="_blank">Video explainer</a></p>
        </div>
    </div>

    <div class="category-tooltip" id="category-tooltip">
        <h4 id="tooltip-title"></h4>
        <p id="tooltip-description"></p>
        <div class="items-list" id="tooltip-items"></div>
    </div>

    <div id="info-panel">
        <div class="grab-bar" id="info-panel-grab-bar"></div>
        <div class="panel-nav" id="panel-nav">
            <button class="nav-btn" id="prev-btn">← Previous</button>
            <span class="nav-counter" id="nav-counter">1 / 20</span>
            <button class="nav-btn" id="next-btn">Next →</button>
        </div>
        <h2 id="panel-title">Select a bubble</h2>
        <div class="category-badge" id="panel-category"></div>
        <p class="description" id="panel-description"></p>
        <div class="uk-law" id="panel-uk-law">
            <h3><span id="uk-law-icon"></span> <span id="uk-law-title"></span></h3>
            <p id="uk-law-text"></p>
        </div>
        <div class="spectrum" id="panel-spectrum">
            <h3>Select your position (click to change ring)</h3>
            <div class="spectrum-items" id="spectrum-items"></div>
        </div>
        <div id="score-panel">
            <div class="score-value" id="score-value">60</div>
            <div class="score-label">Privilege Score (out of 60)</div>
            <div class="score-bar">
                <div class="score-fill" id="score-fill" style="width: 100%"></div>
            </div>
        </div>
    </div>

    <div id="default-panel">
        <h2>How to Use</h2>
        <div class="default-section">
            <p><strong>Click</strong> a bubble for details. <br>
                <strong>Drag</strong> bubbles between rings to set your position.  <br>
                <strong>Scroll</strong> to zoom, <strong>drag</strong> background to rotate.</p>
        </div>
        <div class="default-section">
            <h3>The Rings</h3>
            <p><strong>Inner (3 pts)</strong> &mdash; Most privileged<br>
            <strong>Middle (2 pts)</strong> &mdash; Intermediate<br>
            <strong>Outer (1 pt)</strong> &mdash; Least privileged</p>
        </div>
        <div class="default-section">
            <p>Based on the <em>Academic Wheel of Privilege</em> by Elsherif et al. (2022), exploring how 20 identity characteristics affect privilege in academia.</p>
            <p><a href="https://forrt.org/awop/" target="_blank">FORRT project page</a> &mdash; <a href="https://www.youtube.com/watch?v=mzEdTyA06cU" target="_blank">Video explainer</a></p>
        </div>
    </div>

    <div id="legend">
        <h3>Privilege Level (drag bubbles between rings)</h3>
        <div class="legend-items">
            <div class="legend-item">
                <div class="legend-dot inner"></div>
                <span>Inner (3 pts) - Most Privileged</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot middle"></div>
                <span>Middle (2 pts)</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot outer"></div>
                <span>Outer (1 pt) - Least Privileged</span>
            </div>
        </div>
    </div>

    <div id="instructions">
        Drag bubbles between rings to set privilege | Click for details | Scroll to zoom
    </div>

    <div id="citation">
        Based on: Elsherif, M. M., et al. (2022).
        Bridging Neurodiversity and Open Scholarship.<br>
        <a href="https://doi.org/10.31222/osf.io/k7a9p" target="_blank">https://doi.org/10.31222/osf.io/k7a9p</a><br>
        Adapted from Sylvia Duckworth's Wheel of Privilege <br>
        Visualisation by <a href="https://github.com/sjmf">@sjmf</a> at <a href="https://finnigan.dev/">finnigan.dev</a>
    </div>

    <script src="main.js"></script>
    <script src="touch.js"></script>
    <script>animate();</script>
</body>
</html>
